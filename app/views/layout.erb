<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Bookworm</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css"integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
  </head>
  <body>
    <nav class="navbar navbar-dark bg-inverse" style="border-radius: 0">
      <div class="container">
        <a class="navbar-brand" href="/">
          <i class="fa fa-book" aria-hidden="true"></i> bookworm
        </a>

        <ul class="nav navbar-nav">
          <li class="nav-item <%= 'active' if active_page?('authors') %>">
            <a class="nav-link" href="/authors">Authors</a>
          </li>
          <li class="nav-item <%= 'active' if active_page?('books') %>">
            <a class="nav-link" href="/books">Books</a>
          </li>
        </ul>

        <ul class="nav navbar-nav pull-xs-right">
          <% if authenticated? %>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle"
                 id="dropdownMenu1" data-toggle="dropdown"
                 aria-haspopup="true" aria-expanded="false">
                <i class="fa fa-user"></i> <%= session[:username] %>
              </a>
              <div class="dropdown-menu" aria-labelledby="dropdownMenu1">
                <a class="dropdown-item" href="/user/<%= session[:user_id] %>/ratings">Ratings</a>
                <div class="dropdown-divider"></div>
                <form action="/users/logout" method="POST">
                  <button type="submit" class="btn btn-link dropdown-item">Logout</button>
                </form>
              </div>
            </li>
          <% else %>
            <li class="nav-item <%= 'active' if active_page?('users/signup') %>">
              <a class="nav-link" href="/users/signup">Sign up</a>
            </li>
            <li class="nav-item <%= 'active' if active_page?('users/login') %>">
              <a class="nav-link" href="/users/login">Log in</a>
            </li>
          <% end %>
        </ul>
      </div>
    </nav>

    <div class="container" style="margin-top: 1em;">
      <%= yield %>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/js/bootstrap.min.js" integrity="sha384-vZ2WRJMwsjRMW/8U7i6PWi6AlO1L79snBrmgiDpgIWJ82z8eA5lenwvxbMV1PAh7" crossorigin="anonymous"></script>
  </body>
</html>
